<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Team</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        margin: 0;
        line-height: 1.5;
        font-family: "Poppins", sans-serif;
      }
      .bar {
        height: 15vh;
        width: 100%;
        top: 0;
        background-color: rgb(55, 0, 60);
        position: fixed;
        font-weight: 700;
        letter-spacing: 1px;
        z-index: 101;
        font-size: 1.6vw;
        box-shadow: 0 10px 28px rgba(0, 0, 0, 0.25),
          0 10px 10px rgba(0, 0, 0, 0.22);
      }
      .Navigration-bar {
        list-style-type: none;

        float: left;
        margin: 2vh;
        margin-right: 2vw;

        text-align: center;
      }
      .List-of-bar {
        float: left;
        padding: 10px;
        margin: 12px;
        color: #ffffff;
      }
      .Navigration-bar :not(:hover) {
        transition: all 0.5s ease;
      }
      .Navigration-bar :hover {
        transition: all 0.5s ease;
        padding-left: 10px;
        color: #e91e63;
      }
      .text-of-li {
        text-decoration: none;
        color: #ffffff;
      }
      .sign-in {
        float: right;
        margin: 37px;
      }
      .TagA-sign-in {
        text-decoration: none;
        color: #ffffff;
      }
      .TagA-sign-in:hover {
        transition: all 0.5s ease;
        padding-right: 10px;
        color: #e91e63;
      }
      .TagA-sign-in:not(:hover) {
        transition: all 0.5s ease;
      }
      .sign-up {
        float: right;
        margin: 37px;
        margin-right: 8px;
      }
      .TagA-sign-up {
        text-decoration: none;
        color: #ffffff;
      }
      .TagA-sign-up:hover {
        transition: all 0.5s ease;
        padding-right: 10px;
        color: #e91e63;
      }
      .TagA-sign-up:not(:hover) {
        transition: all 0.5s ease;
      }
      .container {
        background-color: rgb(32, 85, 45);
        background-size: cover;
        width: 100%;
        height: 170vh;
        margin-top: 15vh;
        z-index: 100;
      }

      .container-footer {
        max-width: 1170px;
        margin: auto;
      }
      .row {
        display: flex;
        flex-wrap: wrap;
      }
      ul {
        list-style: none;
      }
      .footer {
        background-color: rgb(55, 0, 60);
        padding: 70px 0;
      }
      .footer-col {
        width: 25%;
        padding: 0 15px;
      }
      .footer-col h4 {
        font-size: 18px;
        color: #ffffff;
        text-transform: capitalize;
        margin-bottom: 35px;
        font-weight: 500;
        position: relative;
      }
      .footer-col h4::before {
        content: "";
        position: absolute;
        left: 0;
        bottom: -10px;
        background-color: #e91e63;
        height: 2px;
        box-sizing: border-box;
        width: 50px;
      }
      .footer-col ul li:not(:last-child) {
        margin-bottom: 10px;
      }
      .footer-col ul li a {
        font-size: 16px;
        text-transform: capitalize;
        color: #ffffff;
        text-decoration: none;
        font-weight: 300;
        color: #bbbbbb;
        display: block;
        transition: all 0.3s ease;
      }
      .footer-col ul li a:hover {
        color: #ffffff;
        padding-left: 8px;
      }
      .footer-col .social-links a {
        display: inline-block;
        height: 40px;
        width: 40px;
        background-color: rgba(255, 255, 255, 0.2);
        margin: 0 10px 10px 0;
        text-align: center;
        line-height: 40px;
        border-radius: 50%;
        color: #ffffff;
        transition: all 0.5s ease;
      }
      .footer-col .social-links a:hover {
        color: #24262b;
        background-color: #ffffff;
      }

      /*responsive*/
      @media (max-width: 767px) {
        .footer-col {
          width: 50%;
          margin-bottom: 30px;
        }
      }
      @media (max-width: 574px) {
        .footer-col {
          width: 100%;
        }
      }
    </style>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Acme&family=Kanit&family=Montserrat:wght@600&display=swap");
      .menu {
        width: 26vw;
        height: 120vh;
        background-color: #ffffff;
        position: relative;
        top: 30vh;
        left: 10vw;
        float: left;
        border-radius: 6px;
        overflow: hidden;
      }
      .titlebox {
        width: 26vw;
        height: 15vh;
        background: #a4bc92;
        float: left;
        position: absolute;
        top: 28vh;
        left: 10vw;
        border-radius: 4px;
      }
      #Title_02 {
        height: 8vh;
        top: 18vh;
        left: 10vw;
        background: none;
        padding-top: 0.8vw;
      }
      #Title_02 span {
        font-family: "Roboto", sans-serif;
        font-size: 1.5vw;
        color: #ffffff;
        float: left;
      }
      #Title_02 button {
        width: 5vw;
        height: 5vh;
        float: right;
        border: none;
        background-color: #706486;
        color: #a5a5a5;
        border-radius: 4px;
      }
      .titlebox .TextPlayer {
        position: absolute;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.5vw;
        color: #f3f1e2;
      }
      .titlebox .TillPlayer {
        position: absolute;
        top: 6.5vh;
        left: 4vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.5vw;
        color: #ffffff;
      }
      .titlebox .ShowPlayer {
        position: absolute;
        top: 5.5vh;
        left: 2.3vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 2vw;
        color: #ffffff;
      }
      .titlebox .MoneyText {
        position: absolute;
        left: 10vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.5vw;
        color: #f3f1e2;
      }
      .titlebox .ShowMoney {
        position: absolute;
        left: 10vw;
        top: 5.6vh;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 2vw;
        color: #ffffff;
      }
      .menu .headbox {
        position: absolute;
        width: 100%;
        height: 35%;
        background-color: #fcf9be;
      }
      .menu .downbox {
        position: absolute;
        top: 35%;
        width: 100%;
        height: 65%;
        background-color: #a4bc92;
        overflow-y: auto;
      }
      .ListOfPlayer .tracklist {
        position: relative;
        width: 100%;
        height: 12vh;
        border-top: 1px solid white;
        border-bottom: 1px solid white;
        cursor: pointer;
        display: none;
      }
      .tracklist:hover {
        background-color: #8ea878;
      }

      .tracklist .logoplayer {
        position: absolute;
        width: 8vh;
        height: 8vh;
        border-radius: 50%;
        background-color: #ffffff;
        background-size: contain;
        top: 2vh;
        left: 2vw;
      }
      .tracklist .nameplayer {
        position: absolute;
        width: 9vw;
        height: 3vh;
        top: 3vh;
        left: 7vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.4vw;
        color: #ffffff;
      }
      .tracklist .teamplayer {
        position: absolute;
        width: 9vw;
        height: 3vh;
        top: 6vh;
        left: 7vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.2vw;
        color: #ffffff;
      }
      .tracklist .priceplayer {
        position: absolute;
        width: 4vw;
        height: 3vh;
        top: 3vh;
        left: 16vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.4vw;
        color: #ffffff;
      }
      .tracklist .postplayer {
        position: absolute;
        width: 3vw;
        height: 3vh;
        top: 6vh;
        left: 16vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.2vw;
        color: #ffffff;
      }
      .tracklist .totalpoint {
        position: absolute;
        width: 2.5vw;
        height: 2.5vw;
        top: 3.2vh;
        left: 21.5vw;
        padding-top: 0.4vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.6vw;
        color: #742644;
      }
      .text_tracklist {
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.4vw;
        color: #ffffff;
      }

      .headbox .searchbox {
        position: absolute;
        top: 3vh;
        left: 2.8vw;
      }
      .searchbox .icon {
        position: relative;
        float: left;
        width: 4vh;
        height: 4vh;
        padding: 0.5px;
        padding-left: 8px;
        background-color: #ffffff;
      }
      .searchbox input {
        height: 4vh;
        width: 14vw;
        border: none;
      }
      .searchbox .removesearch {
        position: absolute;
        left: 13vw;
        top: 1vh;
        width: 2vh;
        height: 2vh;
        background-color: #ffffff;
        border-radius: 50%;
        outline: 2px solid red;
        display: none;
      }
      .removesearch i {
        position: absolute;
        left: 2.5px;
        top: 1.5px;
        font-size: 12px;
      }
      .searchbox input:focus {
        outline: none;
      }
      .searchbox button {
        height: 4vh;
        width: 4vw;
        background: none;
        color: #a4bc92;
        font-family: "Acme", "Montserrat", sans-serif;
        cursor: pointer;

        border: 1px solid #a4bc92;
      }
      .PostPlayer {
        position: absolute;
        width: 4vw;
        height: 4vw;
        border-radius: 2vw;
        background-color: #c3c2fd;
        /* #46458C */
        text-align: center;
        cursor: pointer;
        outline: none;
        top: 10vh;
      }
      .PostPlayer span {
        position: relative;
        top: 2.2vh;
        left: 0.1vw;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.2vw;
        color: #ffffff;
        letter-spacing: 1px;
      }
      #Post-FWD {
        left: 21vw;
      }
      #Post-MID {
        left: 16vw;
      }
      #Post-DEF {
        left: 11vw;
      }
      #Post-GK {
        left: 6vw;
      }
      #Post-ALL {
        left: 1vw;
        background-color: #46458c;
      }
      #Price {
        position: absolute;
        width: 15vw;
        height: 4vh;
        top: 28vh;
        left: 1vw;
        border: none;
      }
      #Team {
        position: absolute;
        width: 10vw;
        height: 4vh;
        top: 34vh;
        left: 1vw;
        border: none;
      }
      #Sort {
        position: absolute;
        width: 20vw;
        height: 4vh;
        top: 22vh;
        left: 1vw;
        border: none;
      }
      .removeselect {
        position: absolute;
        height: 2vh;
        width: 2vh;
        top: 23vh;
        left: 18vw;
        outline: 2px solid red;
        display: none;
        border-radius: 50%;
      }
      .removeselect i {
        position: absolute;
        font-size: 12px;
        margin: 1px;
        margin-left: 2.5px;
      }
      #Price option::after {
        background-color: #a4bc92;
      }
      .downbox .ListOfPlayer {
        position: absolute;
        height: 10vh;
        width: 100%;
      }
      #Title_01 {
        padding: 1vw;
        padding-left: 2vw;
      }
      .boardfootball {
        width: 36.1vw;
        height: 100vh;
        position: relative;
        border-radius: 4px;
        top: 15vh;
        left: 38vw;
        background-image: url("https://s28.picofile.com/file/8464413934/MainBoard.jpg");
        background-size: contain;
        background-repeat: no-repeat;
      }
      .boardfootball .player {
        width: 5vw;
        height: 10vh;
        position: absolute;

        background-size: cover;
        background-repeat: no-repeat;
        cursor: pointer;
      }
      .boardfootball .subtitle {
        width: 5vw;
        height: 4vh;
        background-color: #000000;
        position: absolute;
        border-radius: 4px;
        font-size: 1vw;
        letter-spacing: 0;
        text-align: center;
        padding-top: 3px;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.1vw;
        color: #ffffff;
        display: block;
        top: 9vh;
        opacity: 80%;
      }
      .boardfootball .remove {
        position: absolute;
        width: 18px;
        height: 18px;
        background-color: #ffffff;
        border-radius: 50%;
        left: 4vw;
        display: none;
      }
      .remove i {
        position: absolute;
        left: 3.5px;
        top: 2px;
        font-size: 15px;
      }

      .bi {
        position: relative;
        top: 0;
        left: 0;
        transform: rotate(90deg);
      }

      #swapicon_12 {
        left: 24.5vw;
      }
      .swap {
        position: absolute;
        top: 5vh;
        width: 20px;
        height: 30px;
        color: #ffffff;
        cursor: pointer;
        display: none;
      }
      .swap:hover {
        color: red;
      }
      #swapicon_13 {
        left: 17.8vw;
      }
      #swapicon_14 {
        left: 11vw;
      }
      #swapicon_15 {
        left: 4.5vw;
      }

      #Player_01 {
        top: 83vh;
        left: 16vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_02 {
        top: 64vh;
        left: 27.8vw;
        /* https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-selected.svg?v=0.82 */
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_03 {
        top: 64vh;
        left: 20.2vw;
        /* https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/player-jersey/50138.png?v=3.1 */
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_04 {
        top: 64vh;
        left: 12.1vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_05 {
        top: 64vh;
        left: 4vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_06 {
        top: 44.2vh;
        left: 27.9vw;

        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_07 {
        top: 44.2vh;
        left: 20.2vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_08 {
        top: 44.2vh;
        left: 12.1vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_09 {
        top: 44.2vh;
        left: 4vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_10 {
        top: 27vh;
        left: 20.2vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_11 {
        top: 27vh;
        left: 12.1vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_12 {
        top: 6.5vh;
        left: 25.5vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_13 {
        top: 6.5vh;
        left: 19vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_14 {
        top: 6.5vh;
        left: 12.4vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      #Player_15 {
        top: 6.5vh;
        left: 6vw;
        background-image: url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82");
      }
      .pagation {
        position: absolute;
        top: 167vh;
        left: 18vw;
        width: 10vw;
        height: 5vh;
      }
      .pagation span {
        position: relative;
        top: 1px;
        font-family: "Acme", "Montserrat", sans-serif;
        font-size: 1.5vw;
        color: #ffffff;
      }
      .pagation .backicon {
        position: relative;
        left: 5px;
        width: 5vh;
        height: 5vh;
        /* background-color: #706486; */
        float: left;
        margin-right: 14px;
      }
      .backicon button {
        width: 100%;
        height: 100%;
        background: none;
        /* background-color: #ffffff; */
        border: none;
        cursor: pointer;
      }
      .backicon button i {
        font-weight: 900;
        color: #ffffff;
        font-size: 1.5vw;
      }
      .nexticon button {
        width: 100%;
        height: 100%;
        background: none;
        /* background-color: #ffffff; */
        border: none;
        cursor: pointer;
      }
      .nexticon button i {
        color: #ffffff;
        font-size: 1.5vw;
        font-weight: bold;
      }

      .pagation .nexticon {
        position: relative;
        right: 5px;
        width: 5vh;
        height: 5vh;
        /* background-color: #46458C; */
        float: right;
      }
      @keyframes shake {
        0% {
          transform: translate(1px, 1px) rotate(0deg);
        }
        10% {
          transform: translate(-1px, -2px) rotate(-1deg);
        }
        20% {
          transform: translate(-3px, 0px) rotate(1deg);
        }
        30% {
          transform: translate(3px, 2px) rotate(0deg);
        }
        40% {
          transform: translate(1px, -1px) rotate(1deg);
        }
        50% {
          transform: translate(-1px, 2px) rotate(-1deg);
        }
        60% {
          transform: translate(-3px, 1px) rotate(0deg);
        }
        70% {
          transform: translate(3px, 1px) rotate(-1deg);
        }
        80% {
          transform: translate(-1px, -1px) rotate(1deg);
        }
        90% {
          transform: translate(1px, 2px) rotate(0deg);
        }
        100% {
          transform: translate(1px, -2px) rotate(-1deg);
        }
      }
    </style>
    <script>
      function getCookie(cname) {
        let name = cname + "=";
        let ca = document.cookie.split(";");
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == " ") {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }
      // function getCookie(name)
      // {
      //     function escape(s) { return s.replace(/([.*+?\^$(){}|\[\]\/\\])/g, '\\$1'); }
      //     var match = document.cookie.match(RegExp('(?:^|;\\s*)' + escape(name) + '=([^;]*)'));
      //     return match ? match[1] : null;
      // }

      let token = getCookie("football_fantasy");
      const valueToken = {
        Token: token,
      };
      fetch("http://localhost:3001/authentication/read-token", {
        method: "POST",
        headers: {
          Accept: "application/json",
          "Content-Type": "application/json",
        },
        body: JSON.stringify(valueToken),
      })
        .then((response) => response.json())
        .then((data) => {
          console.log(data.massage);
          if (data.status == "Fail") {
            setTimeout(function () {
              window.location.replace(
                "http://localhost:3001/authentication/signin"
              );
            }, 2000);
          }
          setCookie("email", data.massage, 10);
        })
        .catch((error) => {
          console.log(error);
        });
    </script>
  </head>
  <body>
    <div id="email" style="display: none"></div>
    <div class="bar">
      <div class="logo"></div>
      <ul class="Navigration-bar">
        <li class="List-of-bar">
          <a href="http://localhost:3001/" class="text-of-li">Home</a>
        </li>
        <li class="List-of-bar">
          <a href="http://localhost:3001/news" class="text-of-li">News</a>
        </li>
        <li class="List-of-bar">
          <a href="http://localhost:3001/dashboard" class="text-of-li">Gaming</a>
        </li>
      </ul>
      <div class="sign-in">
        <a onclick="signOut()" class="TagA-sign-in">Sign-out</a>
      </div>
    </div>
    <div class="container">
      <div class="menu">
        <div class="headbox">
          <div class="searchbox">
            <div class="icon">
              <span class="bi bi-search" style="font-size: 12px"></span>
            </div>
            <input type="text" placeholder="Search" id="Selector-Search" />
            <div class="removesearch">
              <i class="fa fa-remove" style="color: red"></i>
            </div>
            <button onclick="Reset()">Reset</button>
          </div>
          <div class="PostPlayer" id="Post-FWD">
            <span id="P-FWD">FWD</span>
          </div>
          <div class="PostPlayer" id="Post-MID">
            <span id="P-MID">MID</span>
          </div>
          <div class="PostPlayer" id="Post-DEF">
            <span id="P-DEF">DEF</span>
          </div>
          <div class="PostPlayer" id="Post-GK"><span id="P-GK">GK</span></div>
          <div class="PostPlayer" id="Post-ALL">
            <span id="P-ALL">ALL</span>
          </div>
          <select id="Price">
            <option value="">Price</option>
            <option value="10">Up to Є10m</option>
            <option value="8">Up to Є8m</option>
            <option value="5">Up to Є5m</option>
          </select>
          <div id="TTeam">
            <select id="Team">
              <option id="Team_0" value="">Team</option>
            </select>
          </div>
          <select id="Sort">
            <option value="">Sort By</option>
            <option value="totalpoint">Sort By Total Point</option>
            <option value="price">Sort By Price</option>
          </select>
          <div class="removeselect" id="Price_Remove">
            <i class="fa fa-remove" style="color: red"></i>
          </div>
        </div>
        <div class="downbox" id="downbox">
          <div class="ListOfPlayer" id="ListOfPlayer">
            <div class="tracklist" id="tracklist_0" value="0">
              <div class="logoplayer" id="P_0" value="0"></div>
              <div class="nameplayer" value="0" id="nameplayer_0"></div>
              <div class="teamplayer" value="0" id="teamplayer_0"></div>
              <div class="priceplayer" value="0" id="priceplayer_0"></div>
              <div class="postplayer" value="0" id="postplayer_0"></div>
              <div class="totalpoint" value="0" id="totalpoint_0"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="pagation">
        <div class="backicon">
          <button onclick="PrevPage()">
            <i class="fa-solid fa-circle-chevron-left"></i>
          </button>
        </div>
        <div class="nexticon">
          <button onclick="NextPage()">
            <i class="fa-solid fa-circle-chevron-right"></i>
          </button>
        </div>
        <span class="allpage" id="SizePagation"></span>
        <span>\</span>
        <span class="presentpage" id="PresentPage"></span>
      </div>
      <div class="titlebox" id="Title_02">
        <span>Pick your squad</span>
        <button id="TeamIsDone" onclick="FinishJob()">Next</button>
      </div>
      <div class="titlebox" id="Title_01">
        <span class="TextPlayer">Player</span>
        <span class="ShowPlayer" id="LengthOfPlayer">0</span>
        <span class="TillPlayer">/15</span>
        <span class="MoneyText">Remaining</span>
        <span class="ShowMoney">Є<span id="remaining">105</span>m</span>
      </div>
      <div class="boardfootball">
        <div class="player" id="Player_01">
          <div class="subtitle" id="Sub_01">GK</div>
          <div class="remove" id="Remove_01">
            <i class="fa fa-remove" id="RemoveIcon_01" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_02">
          <div class="subtitle" id="Sub_02">DEF</div>
          <div class="remove" id="Remove_02">
            <i class="fa fa-remove" id="RemoveIcon_02" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_03">
          <div class="subtitle" id="Sub_03">DEF</div>
          <div class="remove" id="Remove_03">
            <i class="fa fa-remove" id="RemoveIcon_03" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_04">
          <div class="subtitle" id="Sub_04">DEF</div>
          <div class="remove" id="Remove_04">
            <i class="fa fa-remove" id="RemoveIcon_04" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_05">
          <div class="subtitle" id="Sub_05">DEF</div>
          <div class="remove" id="Remove_05">
            <i class="fa fa-remove" id="RemoveIcon_05" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_06">
          <div class="subtitle" id="Sub_06">MID</div>
          <div class="remove" id="Remove_06">
            <i class="fa fa-remove" id="RemoveIcon_06" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_07">
          <div class="subtitle" id="Sub_07">MID</div>
          <div class="remove" id="Remove_07">
            <i class="fa fa-remove" id="RemoveIcon_07" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_08">
          <div class="subtitle" id="Sub_08">MID</div>
          <div class="remove" id="Remove_08">
            <i class="fa fa-remove" id="RemoveIcon_08" style="color: red"></i>
          </div>
        </div>
        
        <div class="player" id="Player_09">
          <div class="subtitle" id="Sub_09">MID</div>
          <div class="remove" id="Remove_09">
            <i class="fa fa-remove" id="RemoveIcon_09" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_10">
          <div class="subtitle" id="Sub_10">FWD</div>
          <div class="remove" id="Remove_10">
            <i class="fa fa-remove" id="RemoveIcon_10" style="color: red"></i>
          </div>
        </div>
        <div class="player" id="Player_11">
          <div class="subtitle" id="Sub_11">FWD</div>
          <div class="remove" id="Remove_11">
            <i class="fa fa-remove" id="RemoveIcon_11" style="color: red"></i>
          </div>
        </div>

        <div class="swap" id="swapicon_12">
          <span
            id="booticon_12"
            class="bi bi-arrow-down-up"
            style="-webkit-text-stroke-width: 0.5px"
          ></span>
        </div>
        <div class="player" id="Player_12">
          <div class="subtitle" id="Sub_12">GK</div>
          <div class="remove" id="Remove_12">
            <i class="fa fa-remove" id="RemoveIcon_12" style="color: red"></i>
          </div>
        </div>
        <div class="swap" id="swapicon_13">
          <span
            id="booticon_13"
            class="bi bi-arrow-down-up"
            style="-webkit-text-stroke-width: 0.5px"
          ></span>
        </div>
        <div class="player" id="Player_13">
          <div class="subtitle" id="Sub_13">DEF</div>
          <div class="remove" id="Remove_13">
            <i class="fa fa-remove" id="RemoveIcon_13" style="color: red"></i>
          </div>
        </div>
        <div class="swap" id="swapicon_14">
          <span
            id="booticon_14"
            class="bi bi-arrow-down-up"
            style="-webkit-text-stroke-width: 0.5px"
          ></span>
        </div>
        <div class="player" id="Player_14">
          <div class="subtitle" id="Sub_14">MID</div>
          <div class="remove" id="Remove_14">
            <i class="fa fa-remove" id="RemoveIcon_14" style="color: red"></i>
          </div>
        </div>
        <div class="swap" id="swapicon_15">
          <span
            id="booticon_15"
            class="bi bi-arrow-down-up"
            style="-webkit-text-stroke-width: 0.5px"
          ></span>
        </div>
        <div class="player" id="Player_15">
          <div class="subtitle" id="Sub_15">FWD</div>
          <div class="remove" id="Remove_15">
            <i class="fa fa-remove" id="RemoveIcon_15" style="color: red"></i>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container-footer">
        <div class="row">
          <div class="footer-col">
            <h4>company</h4>
            <ul>
              <li><a href="#">about us</a></li>
              <li><a href="#">our services</a></li>
              <li><a href="#">privacy policy</a></li>
              <li><a href="#">affiliate program</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>get help</h4>
            <ul>
              <li><a href="#">FAQ</a></li>
              <li><a href="#">shipping</a></li>
              <li><a href="#">returns</a></li>
              <li><a href="#">order status</a></li>
              <li><a href="#">payment options</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>online shop</h4>
            <ul>
              <li><a href="#">watch</a></li>
              <li><a href="#">bag</a></li>
              <li><a href="#">shoes</a></li>
              <li><a href="#">dress</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>follow us</h4>
            <div class="social-links">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- <script src="script.js"></script> -->
    <script>
      let ElementIdOfPrevPlayer = "";
      let PlayerSelected = [];
      let NameOfPlayerSelected = [];
      let IsAnyPostTypeSelected = "Post-ALL";
      let Search = "";
      let SortBy = "";
      let Price = "";
      let Team = "";
      let Page = 1;
      let Remaining = "105";
      let Email = getCookie("email");
      let SizePage = 0;
      let CountOfPlayer = PlayerSelected.length;
      let SwapStatus = false;
      let SwapPlayer = {
        web_name: "",
        position: "",
        post: "",
      };
      let SwapPrev = "";
      RequestToServerForPlayer(
        Search,
        IsAnyPostTypeSelected.replace("Post-", ""),
        SortBy,
        Price,
        Team,
        Page
      );
      RequestToServerForTeam();
      CreateTeam();
      //GetRemainingFromServer(Remaining);
      function TeamDone() {
        let count = document.getElementById("LengthOfPlayer").innerHTML;   
        let but = document.getElementById("TeamIsDone");
        but.style.backgroundColor = "#e2d3ff";
        but.style.color="#000000";
        but.style.cursor = "pointer";
        if(stringToInt(count)<15)
        {
            but.style.backgroundColor="#706486";
            but.style.color="#a5a5a5";
            fetch("http://localhost:3001/teamisnotdone?user_email="+Email)
            .then(response=>response.json())
            .then(data=>console.log(data))
            .catch(error=>console.log(error));
        }
      }
      function FinishJob() {
        let count = document.getElementById("LengthOfPlayer").innerHTML;
        if (count == "15") {
            fetch("http://localhost:3001/end?user_email="+Email)
            .then(response=>response.json())
            .then(data=>{})
            .catch(error=>console.log(error));
            window.location.replace("http://localhost:3001/dashboard");
        }
      }
      function GetRemainingFromServer(Remaining) {
        fetch("http://localhost:3001/getprice?user_email=" + Email)
          .then((response) => response.json())
          .then((data) => {
            Remaining = data.massage;
            document.getElementById("remaining").innerHTML = Remaining;
            //console.log(data);
          })
          .catch((error) => console.log(erro));
      }
      function GetPhoto(link, count, playerskin) {
        let url = link.slice(5, count - 2);
        console.log(url);
        fetch(url)
          .then((data) => console.log(data))
          .catch((error) => {
            throw new Error("Not working");
          });
      }
      function IsThisNamePlayerChose(PlayerName) {
        for (let i = 0; i < NameOfPlayerSelected.length; i++) {
          if (NameOfPlayerSelected[i] == PlayerName) {
            return true;
          }
        }
        return false;
      }
      function AddPlayer(PlayerName, playernumber) {
        if (IsThisNamePlayerChose(PlayerName)) {
          alert("This player has been selected, please select another one");
        } else {
          let request = {
            player: PlayerName,
            player_position: ElementIdOfPrevPlayer,
            user_email: Email,
          };
          //console.log(request);
          fetch("http://localhost:3001/addplayer", {
            method: "POST",
            headers: {
              Accept: "application/json",
              "Content-Type": "application/json",
            },
            body: JSON.stringify(request),
          })
            .then((response) => response.json())
            .then((data) => {
              console.log(data);
              if (data.status == "OK") {
                let playerskin = document.getElementById(ElementIdOfPrevPlayer);
                PlayerSelected.push(ElementIdOfPrevPlayer);
                document
                  .getElementById(ElementIdOfPrevPlayer)
                  .querySelector(".remove").style.display = "block";
                playerskin.style.backgroundImage = "url('" + data.photo + "')";
                //console.log(playerskin.style.backgroundImage);
                let num = GetPlayerNumber(
                  ElementIdOfPrevPlayer,
                  ElementIdOfPrevPlayer.length
                );
                let subtitle = "Sub_" + num;
                document.getElementById(subtitle).innerHTML = PlayerName;
                document.getElementById(subtitle).style.fontSize = "12px";
                NameOfPlayerSelected.push(PlayerName);
                Remaining = document.getElementById("remaining").innerHTML;
                Remaining = data.price;
                document.getElementById("remaining").innerHTML = Remaining;
                CountOfPlayer = PlayerSelected.length;
                document.getElementById("LengthOfPlayer").innerHTML =
                  CountOfPlayer;

                ElementIdOfPrevPlayer = "";
                if (data.count == 15) {
                  TeamDone();
                  CountOfPlayer = 15;
                }

                if (stringToInt(num) >= 12) {
                  document.getElementById(
                    "swapicon_" + stringToInt(num)
                  ).style.display = "block";
                }
              }
              if (data.status == "Fail") {
                alert(data.massage);
              }
            })
            .catch((error) => console.log(error));
        }
      }
      function ShowRemaining(remaining) {
        Remaining = document.getElementById("remaining").innerHTML;
        document.getElementById("remaining").innerHTML = remaining;
        Remaining = remaining;
      }
      function CreateTeam() {
        let url = "http://localhost:3001/createteam?user_email=" + Email;
        fetch(url)
          .then((response) => response.json())
          .then((data) => {
            //console.log(data);
            ShowRemaining(data.team.price);
            Remaining = data.team.price;
            CountOfPlayer = data.countplayer;

            document.getElementById("LengthOfPlayer").innerHTML =
              data.countplayer;
            if ((data.massage = "You already has a team.")) {
              ShowTeamFromDatabase(data.playersteam);
            }
          })
          .catch((error) => console.log(error));
      }
      function ShowTeamFromDatabase(PlayerList) {
        /*
              <div class="player" id="Player_04">
                <div class="subtitle" id="Sub_04">DEF</div>
                <div class="remove" id="Remove_04">
                  <i class="fa fa-remove" id="RemoveIcon_04" style="color: red"></i>
                </div>
              </div>
              let playerskin = document.getElementById(ElementIdOfPrevPlayer);
                PlayerSelected.push(ElementIdOfPrevPlayer);
                document.getElementById(ElementIdOfPrevPlayer).querySelector(".remove").style.display = "block";
                playerskin.style.backgroundImage = "url('" + data.photo + "')";
                console.log(playerskin.style.backgroundImage);
                let num = GetPlayerNumber(ElementIdOfPrevPlayer,ElementIdOfPrevPlayer.length);
                let subtitle = "Sub_" + num;
                document.getElementById(subtitle).innerHTML = PlayerName;
                document.getElementById(subtitle).style.fontSize = "12px";
                NameOfPlayerSelected.push(PlayerName);
                Remaining = data.price;
                document.getElementById("remaining").innerHTML = Remaining;
                CountOfPlayer = PlayerSelected.length;
                document.getElementById("LengthOfPlayer").innerHTML =CountOfPlayer;

                ElementIdOfPrevPlayer = "";



          */
        for (let i = 0; i < PlayerList.length; i++) {
          fetch(
            "http://localhost:3001/photourl?web_name=" + PlayerList[i].web_name
          )
            .then((response) => response.json())
            .then((data) => {
              document.getElementById(
                PlayerList[i].player_position
              ).style.backgroundImage = "url('" + data.url + "')";
            })
            .catch((error) => console.log(error));
          PlayerSelected.push(PlayerList[i].player_position);
          NameOfPlayerSelected.push(PlayerList[i].web_name);
          let player = document.getElementById(PlayerList[i].player_position);
          let subtitle = player.querySelector(".subtitle");
          let remove = player.querySelector(".remove");
          remove.style.display = "block";
          subtitle.innerHTML = PlayerList[i].web_name;
          subtitle.style.fontSize = "12px";
          //GetUrlPhoto(PlayerList[i].web_name,url);
          let number = GetPlayerNumber(
            PlayerList[i].player_position,
            PlayerList[i].player_position.length
          );
          number = stringToInt(number);
          if (number >= 12) {
            document.getElementById("swapicon_" + number).style.display =
              "block";
          }
          if(document.getElementById("LengthOfPlayer").innerHTML=="15")
          {
              TeamDone();
          }

        }
      }
      function GetUrlPhoto(web_name, url) {
        fetch("http://localhost:3001/photourl?web_name=" + web_name)
          .then((response) => response.json())
          .then((data) => (url = data.url))
          .catch((error) => console.log(error));
      }
      function signOut() {
        setCookie("football_fantasy", "", 1);
        window.location.replace("http://localhost:3001/");
      }
      function getCookie(cname) {
        let name = cname + "=";
        let ca = document.cookie.split(";");
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == " ") {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }
      function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
        let expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      }
      function Reset() {
        SortByPost("Post-ALL", IsAnyPostTypeSelected);
        PlayerSelector(ElementIdOfPrevPlayer);
        IsAnyPostTypeSelected = "Post-ALL";
        Search = "";
        SortBy = "";
        Price = "";
        Team = "";
        Page = 1;
        RequestToServerForPlayer(
          Search,
          IsAnyPostTypeSelected.replace("Post-", ""),
          SortBy,
          Price,
          Team,
          Page
        );
      }
      function SortByPost(elementId, Prev) {
        if (Prev != elementId) {
          if (
            document.getElementById(elementId).style.backgroundColor ==
            "rgb(70, 69, 140)"
          ) {
            document.getElementById(elementId).style.backgroundColor =
              "#c3c2fd";
          } else {
            document.getElementById(elementId).style.backgroundColor =
              "#46458C";
          }

          document.getElementById(Prev).style.backgroundColor = "#c3c2fd";

          IsAnyPostTypeSelected = elementId;
        }
      }
      function RequestToServerForPlayer(search, type, sort, price, team, page) {
        let api =
          "http://localhost:3001/getplayers?search=" +
          search +
          "&type=" +
          type +
          "&sort=" +
          sort +
          "&price=" +
          price +
          "&team=" +
          team +
          "&page=" +
          page;
        //console.log(api);
        fetch(api)
          .then((resposne) => resposne.json())
          .then((data) => {
            ShowPagation(data.sizeOfPagation, Page);
            ShowPlayerList(data.playerList);
          })
          .catch((error) => console.log(error));
      }
      
      function ShowPagation(Size, Page) {
        document.getElementById("PresentPage").innerHTML = Page;
        SizePage = Size;
        document.getElementById("SizePagation").innerHTML = SizePage;
      }
      function IsThisPlayerChosed(PlayerId) {
        for (let i = 0; i < PlayerSelected.length; i++) {
          if (PlayerSelected[i] == PlayerId) {
            return true;
          }
        }
        return false;
      }
      document.addEventListener("keyup", (e)=>{
          //console.log(e);
          let key = e.key;
          if(SwapStatus==true && key =="Escape")
          {
              
              for(let i=1;i<=11;i++)
              {
                  let num = GetForNumber(i);
                  if(GetPostByNumber(i)==SwapPlayer.post)
                  {
                      document.getElementById("Player_"+num).style.animation="none";
                  }
              }
              SwapStatus=false;
          }
      })
      document.addEventListener("click", (e) => {
        let elementId = e.target.id;
        let className = e.target.className;
        //console.log(elementId);
        if (
          elementId.search("Player_") != 0 &&
          SwapStatus == true &&
          SwapPrev != elementId
        ) {
          alert("Please choose a player for replace.");
        }
        if (elementId.search("Player_") == 0) {
          //console.log(elementId);
          //console.log(ElementIdOfPrevPlayer);
          //console.log(PlayerSelected);
          if (SwapStatus == true) {
            let post_player = getPostPlayer(elementId);
            if (post_player == SwapPlayer.post) {
              let num = GetPlayerNumber(elementId, elementId.length);
              let name = document.getElementById("Sub_" + num).innerHTML;
              let SwapTemp = {
                web_name: name,
                position: elementId,
                post: post_player,
              };
              let player = document.getElementById(elementId);
              player.querySelector(".subtitle").innerHTML = SwapPlayer.web_name;
              fetch(
                "http://localhost:3001/photourl?web_name=" + SwapPlayer.web_name
              )
                .then((response) => response.json())
                .then((data) => {
                  player.style.backgroundImage = "url('" + data.url + "')";
                })
                .catch((error) => console.log(error));

              let player_replace = document.getElementById(SwapPlayer.position);
              player_replace.querySelector(".subtitle").innerHTML =
                SwapTemp.web_name;
              fetch(
                "http://localhost:3001/photourl?web_name=" + SwapTemp.web_name
              )
                .then((response) => response.json())
                .then((data) => {
                  player_replace.style.backgroundImage =
                    "url('" + data.url + "')";
                })
                .catch((error) => console.log(error));

              for (let i = 1; i <= 11; i++) {
                if (GetPostByNumber(i) == post_player) {
                  let player = document.getElementById(
                    "Player_" + GetForNumber(i)
                  );
                  player.style.animation = "none";
                }
              }
              fetch(
                "http://localhost:3001/swap?player_one=" +
                  SwapPlayer.web_name +
                  "&player_two=" +
                  SwapTemp.web_name +
                  "&user_email=" +
                  Email
              )
                .then((response) => response.json())
                .then((data) => {
                  console.log(data);
                })
                .catch((error) => console.log(error));
              SwapStatus = false;
            } else {
              alert("Please choose a player with the right post.");
            }
          }
          if (SwapStatus == false) {
            Page = 1;
            if (IsThisPlayerChosed(ElementIdOfPrevPlayer)) {
              ElementIdOfPrevPlayer = "";
            }
            if (IsThisPlayerChosed(elementId) == false) {
              PlayerSelector(elementId);
              let type = "Post-" + getPostPlayer(elementId);
              if (ElementIdOfPrevPlayer == "") type = "Post-ALL";
              SortByPost(type, IsAnyPostTypeSelected);
              RequestToServerForPlayer(
                Search,
                IsAnyPostTypeSelected.replace("Post-", ""),
                SortBy,
                Price,
                Team,
                Page
              );
            }
          }
        }
        if (elementId.search("Post-") == 0 && SwapStatus == false) {
          Page = 1;
          SortByPost(elementId, IsAnyPostTypeSelected);
          console.log(elementId);
          console.log(ElementIdOfPrevPlayer);
          RequestToServerForPlayer(
            Search,
            IsAnyPostTypeSelected.replace("Post-", ""),
            SortBy,
            Price,
            Team,
            Page
          );
          if (elementId == "Post-ALL" && ElementIdOfPrevPlayer != "") {
            PlayerSelector(ElementIdOfPrevPlayer);
            ElementIdOfPrevPlayer = "";
          }
          let post = elementId.replace("Post-", "");
          if (post != getPostPlayer(ElementIdOfPrevPlayer)) {
            PlayerSelector(ElementIdOfPrevPlayer);
            ElementIdOfPrevPlayer = "";
          }
        }
        if (elementId.search("P-") == 0 && SwapStatus == false) {
          Page = 1;
          let backelement = elementId.replace("P-", "Post-");
          SortByPost(backelement, IsAnyPostTypeSelected);
          console.log(elementId);
          console.log(ElementIdOfPrevPlayer);
          RequestToServerForPlayer(
            Search,
            IsAnyPostTypeSelected.replace("Post-", ""),
            SortBy,
            Price,
            Team,
            Page
          );
          if (elementId == "P-ALL" && ElementIdOfPrevPlayer != "") {
            PlayerSelector(ElementIdOfPrevPlayer);
            ElementIdOfPrevPlayer = "";
          }
          let post = elementId.replace("P-", "");
          if (post != getPostPlayer(ElementIdOfPrevPlayer)) {
            PlayerSelector(ElementIdOfPrevPlayer);
            ElementIdOfPrevPlayer = "";
          }
        }
        if (elementId.search("Price") == 0 && SwapStatus == false) {
          Page = 1;
          //console.log(elementId);
          Price = document.getElementById("Price").value;
          RequestToServerForPlayer(
            Search,
            IsAnyPostTypeSelected.replace("Post-", ""),
            SortBy,
            Price,
            Team,
            Page
          );
        }
        if (elementId.search("Selector-Search") == 0 && SwapStatus == false) {
          Page = 1;
          let search = document.getElementById("Selector-Search");
          search.addEventListener("keyup", (e) => {
            Search = document.getElementById("Selector-Search").value;
            RequestToServerForPlayer(
              Search,
              IsAnyPostTypeSelected.replace("Post-", ""),
              SortBy,
              Price,
              Team,
              Page
            );
          });
        }
        if (elementId.search("Sort") == 0 && SwapStatus == false) {
          if (document.getElementById("Sort").value != SortBy) {
            Page = 1;
            SortBy = document.getElementById("Sort").value;
            RequestToServerForPlayer(
              Search,
              IsAnyPostTypeSelected.replace("Post-", ""),
              SortBy,
              Price,
              Team,
              Page
            );
          }
        }
        if (elementId.search("Team") == 0 && SwapStatus == false) {
          if (document.getElementById("Team").value != Team) {
            Page = 1;
            Team = document.getElementById("Team").value;
            RequestToServerForPlayer(
              Search,
              IsAnyPostTypeSelected.replace("Post-", ""),
              SortBy,
              Price,
              Team,
              Page
            );
          }
        }
        if (
          elementId.search("tracklist") == 0 ||
          elementId.search("logoplayer") == 0 ||
          elementId.search("nameplayer") == 0 ||
          elementId.search("teamplayer") == 0 ||
          elementId.search("priceplayer") == 0 ||
          elementId.search("postplayer") == 0 ||
          (elementId.search("totalpoint") == 0 && SwapStatus == false)
        ) {
          let number = GetPlayerNumber(elementId, elementId.length);
          let player = document.getElementById(elementId);
          let name = player.getAttribute("value");
          if (ElementIdOfPrevPlayer != "") {
            AddPlayer(name, number);
          }
        }
        // console.log(elementId);
        if (
          elementId.search("RemoveIcon") == 0 ||
          (elementId.search("Remove") == 0 && SwapStatus == false)
        ) {
          let playerid =
            "Player_" + GetPlayerNumber(elementId, elementId.length);

          let subtitle = "Sub_" + GetPlayerNumber(elementId, elementId.length);
          //console.log(subtitle);
          RemovePlayerFromServer(
            document.getElementById(subtitle).innerHTML,
            Email,
            playerid
          );
        }
        if(SwapStatus==true)
        {
          
        }
        if (
          elementId.search("booticon") == 0 ||
          elementId.search("swapicon_") == 0
        ) {
          console.log(elementId);
          // if (SwapStatus == true && SwapPrev == elementId) {
          //   let post = getPostPlayer(elementId);
          //   for (let i = 1; i <= 11; i++) {
          //     if (GetPostByNumber(i) == post) {
          //       document.getElementById(
          //         "Player_" + GetForNumber(i)
          //       ).style.animation = "none";
          //     }
          //   }
          //   SwapPrev = "";
          // }
          alert("If you want to go back press 'Escape'. ");
          if (SwapStatus == false) {
            let number = GetPlayerNumber(elementId, elementId.length);
            SwapStatus = true;
            let main_player = "Player_" + number;
            let post = getPostPlayer(main_player);
            for (let i = 1; i <= 11; i++) {
              let num = GetForNumber(i);
              let player = document.getElementById("Player_" + num);
              if (GetPostByNumber(i) == post) {
                player.style.animation = "shake 0.8s";
                player.style.animationIterationCount = "infinite";
              }
            }
            let web_name = document.getElementById("Sub_" + number).innerHTML;
            SwapPlayer.web_name = web_name;
            SwapPlayer.position = "Player_" + number;
            SwapPlayer.post = getPostPlayer(SwapPlayer.position);
            SwapPrev = elementId;
          }
          // if (SwapStatus == true && SwapPrev == "") {
          //   SwapStatus = false;
          // }
        }
      });
      function GetPostByNumber(numplayer) {
        if (numplayer == 1 || numplayer == 12) {
          return "GK";
        }
        if ((numplayer <= 5 && numplayer >= 2) || numplayer == 13) {
          return "DEF";
        }
        if ((numplayer <= 9 && numplayer >= 6) || numplayer == 14) {
          return "MID";
        }
        if ((numplayer <= 11 && numplayer >= 10) || numplayer == 15) {
          return "FWD";
        }
      }
      function GetForNumber(i) {
        if (i < 10) {
          return "0" + i;
        }
        return i;
      }
      function GetPlayerNumber(str, len) {
        let result = "";
        for (let i = len; i >= 0; i--) {
          if (str[i] == "_") {
            result = str.slice(i + 1, len);
            break;
          }
        }
        return result;
      }
      function RequestToServerForTeam() {
        fetch("http://localhost:3001/getteamlist")
          .then((response) => response.json())
          .then((data) => ShowTeamInSelectTag(data.teamList))
          .catch((error) => console.log(error));
      }
      function IdOfOption(Num) {
        return "Team_" + Num;
      }
      function ChangeOptionToShow(Tag, TeamList, NumberTeam) {
        Tag.setAttribute("id", IdOfOption(NumberTeam));
        Tag.setAttribute("value", TeamList[NumberTeam].name);
        Tag.innerHTML = TeamList[NumberTeam].name;
        return Tag;
      }
      function ShowTeamInSelectTag(TeamList) {
        /*
                    <select id="Team">
                      <option id="Team_0" value="">Team</option>

                    </select>
              */
        document.getElementById("Team").remove();
        var father = document.getElementById("TTeam");
        var select = document.createElement("select");
        var option = document.createElement("option");
        select.setAttribute("id", "Team");
        option.setAttribute("id", "Team_0");
        option.setAttribute("value", "");
        option.innerHTML = "Team";
        select.appendChild(option);
        father.appendChild(select);
        let numcopies = 20;
        let orginalDiv = document.getElementById("Team_0");
        for (let i = 1; i <= numcopies; i++) {
          let CloneDiv = orginalDiv.cloneNode(true);
          document
            .getElementById("Team")
            .appendChild(ChangeOptionToShow(CloneDiv, TeamList, i));
        }
      }
      function GetListPlayer(elements, teams) {
        let PlayerList = [];
        for (let i in elements) {
          let temp = {
            code: elements[i].code,
            element_type: ConvertElementTypeToName(elements[i].element_type),
            first_name: elements[i].first_name,
            id: elements[i].id,
            now_cost: elements[i].now_cost / 10,
            photo: "p" + elements[i].code + ".png",
            second_name: elements[i].second_name,
            team: ConvertTeamIDToName(teams, elements[i].team),
            total_points: elements[i].total_points,
            web_name: elements[i].web_name,
            primary_key: i,
          };
          PlayerList.push(temp);
        }
        return PlayerList;
      }
      function NewDivId(i) {
        return "tracklist_" + i;
      }
      function NewLogoId(i) {
        return "P_" + i;
      }
      function InformationOfNewDiv(PlayerList, DivTag, PlayerNum) {
        let DivIdNum = PlayerNum + 1;
        let DivId = NewDivId(DivIdNum);
        DivTag.setAttribute("value", PlayerList[PlayerNum].web_name);
        DivTag.setAttribute("id", DivId);
        DivTag.style.display = "block";
        var logoplayer = DivTag.querySelector("#P_0");
        var nameplayer = DivTag.querySelector(".nameplayer");
        var teamplayer = DivTag.querySelector(".teamplayer");
        var priceplayer = DivTag.querySelector(".priceplayer");
        var postplayer = DivTag.querySelector(".postplayer");
        var totalpoint = DivTag.querySelector(".totalpoint");
        logoplayer.setAttribute("value", PlayerList[PlayerNum].web_name);
        nameplayer.setAttribute("value", PlayerList[PlayerNum].web_name);
        teamplayer.setAttribute("value", PlayerList[PlayerNum].web_name);
        priceplayer.setAttribute("value", PlayerList[PlayerNum].web_name);
        postplayer.setAttribute("value", PlayerList[PlayerNum].web_name);
        totalpoint.setAttribute("value", PlayerList[PlayerNum].web_name);

        logoplayer.setAttribute("id", "P_" + DivIdNum);
        nameplayer.setAttribute("id", "nameplayer_" + DivIdNum);
        teamplayer.setAttribute("id", "teamplayer_" + DivIdNum);
        priceplayer.setAttribute("id", "priceplyer_" + DivIdNum);
        postplayer.setAttribute("id", "postplayer_" + DivIdNum);
        totalpoint.setAttribute("id", "totalpoint_" + DivIdNum);
        logoplayer.setAttribute("id", NewLogoId(DivIdNum));
        try {
          let UrlPhoto =
            "url('https://resources.premierleague.com/premierleague/photos/players/250x250/" +
            PlayerList[PlayerNum].photo +
            "')";
          logoplayer.style.backgroundImage = UrlPhoto;
        } catch {}
        nameplayer.innerHTML = PlayerList[PlayerNum].web_name;
        teamplayer.innerHTML = PlayerList[PlayerNum].team;
        priceplayer.innerHTML = "Є" + PlayerList[PlayerNum].now_cost;
        postplayer.innerHTML = PlayerList[PlayerNum].element_type;
        totalpoint.innerHTML = PlayerList[PlayerNum].total_points;
        return DivTag;
      }
      function ShowPlayerList(PlayerList) {
        //<div class="ListOfPlayer" id="ListOfPlayer">
        document.getElementById("ListOfPlayer").remove();
        var ListDiv = document.createElement("div");
        ListDiv.classList.add("ListOfPlayer");
        ListDiv.setAttribute("id", "ListOfPlayer");
        ListDiv.appendChild(CreateTrackList());
        document.getElementById("downbox").appendChild(ListDiv);
        var orginalDiv = document.getElementById("tracklist_0");
        var numCopies = 50;
        for (var i = 0; i < numCopies; i++) {
          var CloneDiv = orginalDiv.cloneNode(true);
          document
            .getElementById("ListOfPlayer")
            .appendChild(InformationOfNewDiv(PlayerList, CloneDiv, i));
        }
      }
      function stringToInt(str) {
        var num = parseInt(str);
        if (num == str) return num;
        return NaN;
      }
      function getPostPlayer(elementId) {
        if (elementId.search("Player_") != 0) {
          return "";
        }
        elementId = elementId.replace("Player_", "");
        let numplayer = stringToInt(elementId);
        if (numplayer == 1 || numplayer == 12) {
          return "GK";
        }
        if ((numplayer <= 5 && numplayer >= 2) || numplayer == 13) {
          return "DEF";
        }
        if ((numplayer <= 9 && numplayer >= 6) || numplayer == 14) {
          return "MID";
        }
        if ((numplayer <= 11 && numplayer >= 10) || numplayer == 15) {
          return "FWD";
        }
      }
      function PlayerSelector(elementId) {
        let urlDefault =
          'url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg")';
        let urlSelect =
          'url("https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-selected.svg")';
        if (elementId == ElementIdOfPrevPlayer) {
          if (
            document.getElementById(elementId).style.backgroundImage ==
            urlDefault
          ) {
            document.getElementById(elementId).style.backgroundImage =
              urlSelect;
            return "";
          } else {
            document.getElementById(elementId).style.backgroundImage =
              urlDefault;
          }
          ElementIdOfPrevPlayer = "";
          return "";
        } else {
          if (ElementIdOfPrevPlayer != "") {
            document.getElementById(
              ElementIdOfPrevPlayer
            ).style.backgroundImage = urlDefault;
          }
          document.getElementById(elementId).style.backgroundImage = urlSelect;
          ElementIdOfPrevPlayer = elementId;
        }
      }
      function PriceRemover(elementId) {
        let PriceValue = document.getElementById("Price").value;
        if (PriceValue == 0) {
          document.getElementById("Price_Remove").style.display = "none";
        } else {
          document.getElementById("Price_Remove").style.display = "block";
        }
      }
      function CreateTrackList() {
        /*
                <div class="tracklist" id="tracklist_0">
                        <div class="logoplayer" id="P_0"></div>
                        <div class="nameplayer"></div>
                        <div class="teamplayer"></div>
                        <div class="priceplayer"></div>
                        <div class="postplayer"></div>
                        <div class="totalpoint"></div>
              */
        var tracklist = document.createElement("div");
        tracklist.classList.add("tracklist");
        tracklist.setAttribute("id", "tracklist_0");
        tracklist.setAttribute("value", "0");

        var logo = document.createElement("div");
        logo.classList.add("logoplayer");
        logo.setAttribute("id", "P_0");
        logo.setAttribute("value", "0");

        var name = document.createElement("div");
        name.classList.add("nameplayer");
        name.setAttribute("value", "0");

        var teamplayer = document.createElement("div");
        teamplayer.classList.add("teamplayer");
        teamplayer.setAttribute("value", "0");

        var price = document.createElement("div");
        price.classList.add("priceplayer");
        price.setAttribute("value", "0");

        var postplayer = document.createElement("div");
        postplayer.classList.add("postplayer");
        postplayer.setAttribute("value", "0");

        var totalpoint = document.createElement("div");
        totalpoint.classList.add("totalpoint");
        totalpoint.setAttribute("value", "0");

        tracklist.appendChild(logo);
        tracklist.appendChild(name);
        tracklist.appendChild(teamplayer);
        tracklist.appendChild(price);
        tracklist.appendChild(postplayer);
        tracklist.appendChild(totalpoint);

        return tracklist;
      }
      function PrevPage() {
        let page = document.getElementById("PresentPage").innerHTML;
        if (page != "1") {
          document.getElementById("PresentPage").innerHTML = (
            stringToInt(page) - 1
          ).toString();
          Page--;
          RequestToServerForPlayer(
            Search,
            IsAnyPostTypeSelected.replace("Post-", ""),
            SortBy,
            Price,
            Team,
            Page
          );
        }
      }
      function NextPage() {
        let page = document.getElementById("PresentPage").innerHTML;
        if (page != SizePage) {
          document.getElementById("PresentPage").innerHTML = (
            stringToInt(page) + 1
          ).toString();
          Page++;
          RequestToServerForPlayer(
            Search,
            IsAnyPostTypeSelected.replace("Post-", ""),
            SortBy,
            Price,
            Team,
            Page
          );
        }
      }
      function RemovePlayerFromServer(web_name, email, playerid) {
        //console.log(web_name);
        //console.log(email);
        fetch(
          "http://localhost:3001/removeplayer?web_name=" +
            web_name +
            "&user_email=" +
            email
        )
          .then((response) => response.json())
          .then((data) => {
            //console.log(data);
            if (data.status == "OK") {
              RemovePlayer(playerid, web_name);
              Remaining = data.price;
              document.getElementById("remaining").innerHTML = data.price;
            }
          })
          .catch((error) => console.log(error));
      }
      function RemovePlayer(playerid, web_name) {
        let player = document.getElementById(playerid);
        let num = GetPlayerNumber(playerid, playerid.length);
        let sub = "Sub_" + num;
        let remove = "Remove_" + num;
        //console.log(remove);
        if (IsThisPlayerChosed(playerid)) {
          player.style.backgroundImage =
            "url('https://gaming.uefa.com/en/uclfantasy/static-assets/ucl2020/images/Jersey-default.svg?v=0.82')";
          document.getElementById(sub).innerHTML = getPostPlayer(playerid);
          document.getElementById(sub).style.fontSize = "1.1vw";
          document.getElementById(remove).style.display = "none";
          for (let i = 0; i < PlayerSelected.length; i++) {
            if (PlayerSelected[i] == playerid) {
              PlayerSelected.splice(i, 1);
            }
            if (NameOfPlayerSelected[i] == web_name) {
              NameOfPlayerSelected.splice(i, 1);
            }
          }
          Remaining = document.getElementById("remaining").innerHTML;
          document.getElementById("remaining").innerHTML = Remaining;
          CountOfPlayer = PlayerSelected.length;
          document.getElementById("LengthOfPlayer").innerHTML = CountOfPlayer;
          if (stringToInt(num) >= 12) {
            document.getElementById("swapicon_" + num).style.display = "none";
          }
          TeamDone();
        }
      }
    </script>
  </body>
</html>
